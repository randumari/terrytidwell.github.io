<!DOCTYPE html>
<html>
<head>
    <title>AZombie</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body bgcolor="#000000">
<canvas style = 'position: absolute; left: 0px; top: 0px;' id="canvas" width="1024" height="800"></canvas>
<script src="https://cdnjs.cloudflare.com/ajax/libs/buzz/1.1.10/buzz.min.js" type="text/javascript"></script>
<script src="../gameEngine/engine.js" type="text/javascript"></script>
<script src="entities.js" type="text/javascript"></script>
    
<script>
//##########################################################################
// The game
//

var g_font = "Lucida Console";
var g_aspect_ratio = 2/3;
var PHI = 1.61803398875;
var INVERSE_PHI = 0.61803398875;
var g_gamestate = {
  song : 0,
  mobile : false
};

var IntroScreen = createScreen(
  function ()
  {
    var gamestate = this.gamestate;
    gamestate.gameEntities.push(createBackground());
    gamestate.gameEntities.push(createText("2:3", g_aspect_ratio/2, 1/2, 1/4, "center"));
    gamestate.gameEntities.push(createScreenClick(function ()
    {
      g_aspect_ratio = 4/3;
      gamestate.jut.setMaintainAspectRatioMode(g_aspect_ratio);
      gamestate.jut.switchToScreen(OtherScreen);
    }));
  }
);

var OtherScreen = createScreen(
  function ()
  {
    var gamestate = this.gamestate;
    gamestate.gameEntities.push(createBackground());
    gamestate.gameEntities.push(createText("4:3", g_aspect_ratio/2, 1/2, 1/4, "center"));
    gamestate.gameEntities.push(createScreenClick(function ()
    {
      g_aspect_ratio = 2/3;
      gamestate.jut.setMaintainAspectRatioMode(g_aspect_ratio);
      gamestate.jut.switchToScreen(IntroScreen);
    }));
  }
);
  
var GlobalResources =
{
  audio_components : {},
  graphic_components : {}
};

var init = function()
{
  var jut = createJutGameEngine(document.getElementById("canvas"));
  
  /*
  GlobalResources.audio_components.reject = jut.loadAudio("assets/Banana Peel Slip Zip-SoundBible.com-803276918.mp3");
  */
  
  GlobalResources.audio_components.bg = [];

  /*
  GlobalResources.audio_components.bg.push({name: "None", song:{ setVolume : function () {}, loop : function () {}, play : function() {}, stop: function() {}, fadeOut: function() {} }});
  GlobalResources.audio_components.bg.push({name: "The Cannery", song:jut.loadAudio("assets/The Cannery.mp3")});
  GlobalResources.audio_components.bg.push({name: "Gaslamp Funworks", song:jut.loadAudio("assets/Gaslamp Funworks.mp3")});
  GlobalResources.audio_components.bg.push({name: "Monkeys Spinning Monkeys", song:jut.loadAudio("assets/Monkeys Spinning Monkeys.mp3")});
  GlobalResources.audio_components.bg.push({name: "The Builder", song:jut.loadAudio("assets/The Builder.mp3")});
  
  GlobalResources.graphic_components.reject = jut.loadImage("assets/baseline_thumb_down_white_48dp.png");
  GlobalResources.graphic_components.accept = jut.loadImage("assets/baseline_thumb_up_white_48dp.png");
  */
  
  jut.setMaintainAspectRatioMode(g_aspect_ratio);
  IntroScreen.init(jut);
  OtherScreen.init(jut);
  jut.addTitleScreen(IntroScreen);
  jut.init();
}

// launch the game once the document is fully loaded
window.addEventListener("load", init);

</script>
</body>
</html>

